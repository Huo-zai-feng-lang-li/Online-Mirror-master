# 🔒 安全说明

## 项目安全性

本项目**可以安全地发布到 GitHub**，已采取以下安全措施：

### ✅ 已保护的敏感信息

1. **API 配置文件**

   - `config.js` 已添加到 `.gitignore`
   - 使用 `config.example.js` 作为配置模板
   - 用户需要自行创建 `config.js` 并填入自己的 Worker URL

2. **Cloudflare 配置**

   - Worker 代码不包含敏感信息
   - R2 存储桶访问通过 Worker 绑定，不暴露凭据
   - 所有 API 都有 CORS 保护

3. **用户数据**
   - ID 是用户自定义的，不存储在代码中
   - 照片存储在用户自己的 R2 桶中
   - 没有硬编码的个人信息

### 🚫 需要排除的文件

确保以下文件/目录**不要**提交到 GitHub：

```
config.js           # 包含您的 Worker URL 和账号ID
.wrangler/          # Wrangler 本地开发配置
.dev.vars           # 环境变量（如果使用）
node_modules/       # NPM 依赖包
*.log               # 日志文件
```

### ⚠️ 发布前检查清单

在推送代码到 GitHub 之前，请检查：

- [ ] `.gitignore` 文件存在
- [ ] `config.js` 不在 Git 跟踪中
- [ ] `config.example.js` 已创建
- [ ] 代码中没有硬编码的域名、ID、密钥
- [ ] 文档中没有包含个人信息的截图
- [ ] 已测试其他人克隆后能否正常配置

### 🔍 检查方法

```bash
# 查看将要提交的文件
git status

# 如果 config.js 在列表中，从 Git 中移除
git rm --cached config.js

# 查看 .gitignore 是否生效
git check-ignore config.js
# 输出：config.js（说明已忽略）

# 查看即将提交的内容
git diff --cached
```

### 🛡️ 使用者安全建议

1. **ID 管理**

   - 不要使用容易被猜到的 ID（如 `123`, `test`）
   - 定期更换 ID
   - 不要向知道这个平台的人泄露 ID

2. **访问控制**

   - 考虑在 Worker 中添加 IP 白名单
   - 添加访问频率限制
   - 定期清理旧照片

3. **隐私保护**
   - 使用自定义域名时注意域名隐私
   - 不要在公共场合分享查看页面链接
   - 定期检查 R2 存储桶内容

### 📋 漏洞报告

如果您发现安全漏洞，请：

1. **不要**在公开 Issue 中报告
2. 通过私密方式联系项目维护者
3. 提供详细的漏洞描述和复现步骤
4. 给予合理的修复时间

### 🔐 数据安全

**用户数据存储：**

- 照片存储在您自己的 Cloudflare R2 桶中
- 只有您能访问（需要 ID）
- 可以随时删除所有数据

**数据传输：**

- 全程 HTTPS 加密
- API 请求带 CORS 保护
- 照片以 Base64 编码传输

### ⚖️ 合规使用

**重要提醒：**

- 本项目仅供学习和研究使用
- 请遵守当地法律法规
- 不得用于非法用途
- 使用者需对自己的行为负责

### 🔄 更新日志

**2025-10-29**

- 添加 `.gitignore` 文件
- 创建 `config.example.js` 模板
- 移除代码中的硬编码域名
- 添加安全检查指南
